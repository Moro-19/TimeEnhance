{% extends "base.html" %}

{% block title %}Edit Task - Time Enhance{% endblock %}

{% block content %}
<div class="text-center mb-30">
    <h1>âœï¸ Edit Task</h1>
    <p style="color: #7F8C8D; font-size: 1.1em;">Update your task details</p>
</div>

<div class="card" style="max-width: 700px; margin: 0 auto;">
    {% if task %}
    <form method="POST" action="/tasks/{{ user_id }}/edit/{{ task.TaskID }}">
        <div class="form-group">
            <label for="title">Task Title *</label>
            <input type="text" id="title" name="title" value="{{ task.Title }}" required>
        </div>
        
        <div class="form-group">
            <label for="description">Description (Optional)</label>
            <textarea id="description" name="description" rows="4">{{ task.Description if task.Description else '' }}</textarea>
        </div>
        
        <div class="form-group">
            <label for="difficulty">Difficulty Level *</label>
            <select id="difficulty" name="difficulty" required>
                <option value="easy" {% if task.Difficulty == 'easy' %}selected{% endif %}>ğŸŸ¢ Easy (25 XP, 5 Coins)</option>
                <option value="medium" {% if task.Difficulty == 'medium' %}selected{% endif %}>ğŸŸ¡ Medium (50 XP, 10 Coins)</option>
                <option value="hard" {% if task.Difficulty == 'hard' %}selected{% endif %}>ğŸ”´ Hard (100 XP, 20 Coins)</option>
            </select>
        </div>
        
        <div class="card" style="background: #FEF5E7; border-color: #F39C12; margin-top: 20px;">
            <h3>âš ï¸ Note</h3>
            <p style="color: #2C3E50; margin: 0;">
                Changing difficulty will affect the XP and Coins you'll earn when completing this task.
            </p>
        </div>
        
        <div class="flex" style="gap: 15px; margin-top: 30px;">
            <button type="submit" class="btn btn-success" style="flex: 1;">
                âœ… Save Changes
            </button>
            <a href="/tasks/{{ user_id }}" class="btn" style="flex: 1; text-align: center;">
                âŒ Cancel
            </a>
        </div>
    </form>
    {% else %}
    <div class="text-center">
        <h2>âš ï¸ Task Not Found</h2>
        <p style="color: #7F8C8D;">Could not load task information.</p>
        <a href="/tasks/{{ user_id }}" class="btn mt-20">ğŸ“‹ Back to Tasks</a>
    </div>
    {% endif %}
</div>
{% endblock %}